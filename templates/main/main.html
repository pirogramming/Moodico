{% extends 'base.html' %} {% load static %} {% block extra_head %}
<link rel="stylesheet" href="{% static 'css/main/main.css' %}" />
<link rel="stylesheet" href="{% static 'css/upload/upload.css' %}" />
{% endblock%} {% block content %}
<div class="main-container">
  <div class="moodico-splash-container">
    <div class="moodico-banner">
      <h3>Moodico"</h3>
      <p>ë‹¹ì‹ ì˜ ë¬´ë“œì— ì™„ë²½í•˜ê²Œ ì–´ìš¸ë¦¬ëŠ” ë©”ì´í¬ì—… ì¡°í•©ì„ ì°¾ì•„ë³´ì„¸ìš”</p>
    </div>
  </div>

  <!-- âœ… ì¶”ê°€: í¼ìŠ¤ë„ ì»¬ëŸ¬ ì˜¨ë³´ë”© (ë‚˜ì˜ ì‹œì•ˆ í†µí•©) -->
  <section class="pc-section">
    <div class="pc-container">
      <div class="pc-hero pc-reveal">
        <div>
          <div class="pc-eyebrow">Tone-Match by Moodico</div>
          <h2 class="pc-title-xl">í†¤ ê±±ì • ë.<br> ë¬´ë””ì½” ë§¤íŠ¸ë¦­ìŠ¤ê°€ ë‹¤ ë§ì¶°ì¤˜ìš”</h2>
          <p class="pc-subtitle">
            ë¬´ë””ì½”ëŠ” <strong>í†¤ ì¼ì¹˜</strong>ë¥¼ ìµœìš°ì„ ìœ¼ë¡œ, <strong>ìƒ‰ìƒ ë§¤íŠ¸ë¦­ìŠ¤</strong>ì—ì„œ
            <strong>ë™ì¼ í†¤ ì œí’ˆ</strong>ì„ ì¶”ë ¤ <strong>ë°”ë¡œ ì“¸ ìˆ˜ ìˆëŠ” ì¡°í•©</strong>ìœ¼ë¡œ ì¶”ì²œí•©ë‹ˆë‹¤.
            <strong>ë¬´ë“œÂ·ë³´ìœ í…œ</strong>ê¹Œì§€ ë°˜ì˜í•´ ì‹¤íŒ¨ë¥¼ ì¤„ì—¬ìš”.
          </p>
          <div style="display: flex; gap: 10px; margin-top: 16px">
            <a class="pc-btn primary" href="{% url 'personalcolor' %}"
              >ë” ì•Œì•„ë³´ëŸ¬ê°€ê¸°</a
            >
          </div>
        </div>
        <div>
          <div class="matrix-section">
            <section class="color-matrix-container">
              <div class="quadrant-grid">
                <div class="quadrant top-left"></div>
                <div class="quadrant top-right"></div>
                <div class="quadrant bottom-left"></div>
                <div class="quadrant bottom-right"></div>
              </div>

              <div class="axis-label top-label">Light</div>
              <div class="axis-label bottom-label">Deep</div>
              <div class="axis-label left-label">Cool</div>
              <div class="axis-label right-label">Warm</div>
            <div>

              <div
                id="makeup-products-container"
                class="makeup-products-container"
              ></div>

              <!--ìœ ì‚¬ ë¬´ë“œ ì œí’ˆ ì¶”ì²œ êµ¬ê°„ í‘œì‹œ-->
              <!--
              <div id="mood-selection-area" class="mood-selection-area">
                <span class="mood-label">ì¶”ì²œ êµ¬ê°„</span>
                <div class="resizer top-left-resizer"></div>
                <div class="resizer top-right-resizer"></div>
                <div class="resizer bottom-left-resizer"></div>
                <div class="resizer bottom-right-resizer"></div>
              </div>
              -->
            </section>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ì£¼ìš” ê¸°ëŠ¥ ì„¹ì…˜ -->
  <div class="main-features">
    <!-- ë‚´ ì•„ì´í…œ ê¸°ë°˜ ê²€ìƒ‰ ì¹´ë“œ -->
    <div class="feature-card item-search-card">
      <div class="card-header">
        <h3>ğŸ” ë‚´ ì•„ì´í…œ ê¸°ë°˜ ê²€ìƒ‰</h3>
        <p>ê°€ì§„ ì œí’ˆìœ¼ë¡œ ì™„ë²½í•œ ì¡°í•© ì°¾ê¸°</p>
      </div>
      <div class="search-preview">
        <div class="search-icon">
          <img
            src="/static/images/eyedropper.svg"
            alt="ìƒ‰ìƒ ì¶”ì¶œ"
            class="search-image"
          />
        </div>
        <div class="search-info">
          <h4>ìƒ‰ìƒ ë¶„ì„ ê¸°ë°˜ ì¶”ì²œ</h4>
          <p>ì œí’ˆ ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ë©´ ìƒ‰ìƒê³¼ ì–´ìš¸ë¦¬ëŠ” ì¡°í•©ì„ ì¶”ì²œí•´ë“œë ¤ìš”</p>
        </div>
      </div>
      <a href="{% url 'my_item_recommendation'  %}" class="card-action"
        >ì‚¬ì§„ ì—…ë¡œë“œí•˜ê¸° â†’</a
      >
    </div>

    <!-- ì˜¤ëŠ˜ì˜ ì¶”ì²œ ì¹´ë“œ -->
    <div class="feature-card recommendation-card">
      <div class="card-header">
        <h3>ğŸ¯ ì˜¤ëŠ˜ì˜ ì¶”ì²œ</h3>
        <p>ë‹¹ì‹ ì„ ìœ„í•œ ë§ì¶¤ ì œí’ˆ</p>
      </div>
      <div class="product-preview">
        <img
          src="{{ recommended_product.product_image|default:'/static/images/test.jpg' }}"
          alt="{{ recommended_product.product_name }}"
          onerror="this.src='/static/images/test.jpg'"
          class="product-image"
        />
        <div class="product-info">
          <h4>{{ recommended_product.product_name }}</h4>
          <p>
            {% if recommended_product.is_user_liked %} ğŸ’– ë‚´ê°€ ì°œí•œ ì œí’ˆ | {{
            recommended_product.product_brand }} {% else %} {{
            recommended_product.product_brand }} ğŸ’œ | {{
            recommended_product.like_count }}ëª…ì´ ì°œí•¨ {% endif %}
          </p>
        </div>
      </div>
    </div>

    <!-- ë¬´ë“œ í…ŒìŠ¤íŠ¸ ë¯¸ë¦¬ë³´ê¸° -->
    <div class="feature-card mood-test-card">
      <div class="card-header">
        <h3>ğŸ’« ë¬´ë“œ í…ŒìŠ¤íŠ¸</h3>
        <p>ë‚˜ëŠ” ì–´ë–¤ ë¬´ë“œì˜ ë©”ì´í¬ì—…ì´ ì˜ ì–´ìš¸ë¦´ê¹Œ?</p>
      </div>
      <div class="mood-options">
        <button class="mood-option">ë¡œë§¨í‹±</button>
        <button class="mood-option">ì‹œí¬</button>
        <button class="mood-option">ë‚´ì¶”ëŸ´</button>
        <button class="mood-option">ê¸€ë¨</button>
      </div>
      <a href="{% url 'mood_test' %}" class="card-action">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸° â†’</a>
    </div>

    <!-- ìƒ‰ìƒ ë§¤íŠ¸ë¦­ìŠ¤ ë¯¸ë¦¬ë³´ê¸° -->
    <div class="feature-card color-matrix-card">
      <div class="card-header">
        <h3>ğŸŒˆ ìƒ‰ìƒ ë§¤íŠ¸ë¦­ìŠ¤ ë°”ë¡œê°€ê¸°</h3>
        <p>ë§¤íŠ¸ë¦­ìŠ¤ì—ì„œ ë¹ ë¥´ê²Œ ì›í•˜ëŠ” ë¬´ë“œì˜ ì œí’ˆì„ ì°¾ì•„ë³´ì„¸ìš”!</p>
      </div>
      <div class="matrix-preview">
        <div class="mini-color-matrix">
          <div class="quadrant-grid">
            <div class="quadrant top-left">
              <div class="quadrant-content">
                <span class="quadrant-label">Light Cool</span>
                <div class="color-dots">
                  <div
                    class="color-dot"
                    style="background-color: #87ceeb"
                  ></div>
                  <div
                    class="color-dot"
                    style="background-color: #98fb98"
                  ></div>
                  <div
                    class="color-dot"
                    style="background-color: #f0f8ff"
                  ></div>
                </div>
              </div>
            </div>
            <div class="quadrant top-right">
              <div class="quadrant-content">
                <span class="quadrant-label">Light Warm</span>
                <div class="color-dots">
                  <div
                    class="color-dot"
                    style="background-color: #ffe4b5"
                  ></div>
                  <div
                    class="color-dot"
                    style="background-color: #f0e68c"
                  ></div>
                  <div
                    class="color-dot"
                    style="background-color: #ffb6c1"
                  ></div>
                </div>
              </div>
            </div>
            <div class="quadrant bottom-left">
              <div class="quadrant-content">
                <span class="quadrant-label">Deep Cool</span>
                <div class="color-dots">
                  <div
                    class="color-dot"
                    style="background-color: #4169e1"
                  ></div>
                  <div
                    class="color-dot"
                    style="background-color: #008b8b"
                  ></div>
                  <div
                    class="color-dot"
                    style="background-color: #4b0082"
                  ></div>
                </div>
              </div>
            </div>
            <div class="quadrant bottom-right">
              <div class="quadrant-content">
                <span class="quadrant-label">Deep Warm</span>
                <div class="color-dots">
                  <div
                    class="color-dot"
                    style="background-color: #8b4513"
                  ></div>
                  <div
                    class="color-dot"
                    style="background-color: #dc143c"
                  ></div>
                  <div
                    class="color-dot"
                    style="background-color: #ff4500"
                  ></div>
                </div>
              </div>
            </div>
          </div>
          <div class="axis-labels">
            <div class="axis-label top">Light</div>
            <div class="axis-label bottom">Deep</div>
            <div class="axis-label left">Cool</div>
            <div class="axis-label right">Warm</div>
          </div>
        </div>
      </div>
      <a href="{% url 'color_matrix_explore' %}" class="card-action"
        >ë§¤íŠ¸ë¦­ìŠ¤ ë³´ê¸° â†’</a
      >
    </div>

    <!-- ì»¬ëŸ¬ íˆ¬í‘œ ë°•ìŠ¤ -->
    <div class="feature-card voting-card">
      <div class="card-header">
        <h3>ğŸ—³ï¸ ì»¬ëŸ¬ íˆ¬í‘œ</h3>
        <p>ê°€ì¥ ì¸ê¸°ìˆëŠ” ì»¬ëŸ¬ëŠ”?</p>
      </div>
      <div class="voting-products">
        {% for product in top_liked_products|slice:":2" %}
        <div
          class="vote-product-card"
          data-product-id="{{ product.product_id }}"
        >
          <div class="product-vote-image">
            <img
              src="{{ product.product_image|default:'/static/images/test.jpg' }}"
              alt="{{ product.product_name }}"
              onerror="this.src='/static/images/test.jpg'"
            />
            <div class="vote-overlay">
              <span class="vote-count">â¤ï¸ {{ product.like_count }}</span>
            </div>
          </div>
          <div class="product-vote-info">
            <h4>{{ product.product_name }}</h4>
            <p>{{ product.product_brand }}</p>
            <div class="vote-progress">
              <div class="progress-bar">
                <div
                  class="progress-fill"
                  style="width: {% if forloop.first %}65{% else %}35{% endif %}%"
                ></div>
              </div>
              <span class="vote-percentage"
                >{% if forloop.first %}65{% else %}35{% endif %}%</span
              >
            </div>
          </div>
        </div>
        {% empty %}
        <div class="no-voting-products">
          <p>ì•„ì§ ì¸ê¸° ì œí’ˆì´ ì—†ì–´ìš”. ì²« ë²ˆì§¸ë¡œ ì°œí•´ë³´ì„¸ìš”! ğŸ’–</p>
        </div>
        {% endfor %}
      </div>
      {% if top_liked_products %}
      <div class="voting-stats">
        <p>
          ì´ íˆ¬í‘œìˆ˜: <strong>{{ top_liked_products|length }}</strong> | ì‹¤ì‹œê°„
          ì—…ë°ì´íŠ¸
        </p>
      </div>
      {% endif %}
    </div>
  </div>

  <!-- í˜„ì¬ ì•„ì´í…œ ë­í‚¹ ì„¹ì…˜ -->
  <div class="ranking-section">
    <div class="section-header">
      <h2>ğŸ† í˜„ì¬ ì¸ê¸° ì•„ì´í…œ</h2>
      <p>ì‚¬ìš©ìë“¤ì´ ê°€ì¥ ë§ì´ ì°œí•œ ì¸ê¸° ì œí’ˆë“¤ì„ í™•ì¸í•´ë³´ì„¸ìš”</p>
    </div>

    <div class="ranking-preview">
      {% comment %} [{'product_id': 'ec733645-2d66-4fb4-b207-d740680acd73',
      'product_name': '04 ë¹ˆí‹°ì§€ ì˜¤ì…˜', 'product_brand': 'romand',
      'product_price': '9,900ì›', 'product_image':
      'https://romand.io/images/product/343/BZgkQP0CTQ1Wb8FTVcLlVBqfPwSBpyZ3BeEQVdCu.jpg',
      'like_count': 1}, .. ] {% endcomment %} {% for product in top_liked_products %}
      <div class="ranking-item">
        <div class="ranking-badge">{{ forloop.counter }}</div>
        <img
          src="{{ product.product_image|default:'/static/images/test.jpg' }}"
          alt="{{ product.product_name }}"
          onerror="this.src='/static/images/test.jpg'"
        />
        <div class="ranking-info">
          <div class="product-brand">{{ product.product_brand }}</div>
          <div class="product-name">{{ product.product_name }}</div>
          <div class="like-count-display">
            ğŸ’œ {{ product.like_count }} ëª…ì´ ì°œí•¨
          </div>
        </div>
      </div>
      {% empty %}
      <div class="no-ranking">
        <p>ì•„ì§ ì°œí•œ ì œí’ˆì´ ì—†ì–´ìš”. ì²« ë²ˆì§¸ë¡œ ì°œí•´ë³´ì„¸ìš”! ğŸ’–</p>
      </div>
      {% endfor %}
    </div>

    <div class="ranking-actions">
      <a href="{% url 'product_ranking' %}" class="ranking-detail-btn">
        ìì„¸íˆ ë³´ê¸° â†’
      </a>
    </div>
  </div>
</div>

<!-- JavaScript íŒŒì¼ ë¡œë“œ -->
<script src="{% static 'js/main/main.js' %}"></script>

{% endblock %}
